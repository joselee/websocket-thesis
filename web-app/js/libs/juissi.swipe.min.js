// Bind polyfill
// v1.0.0
if (!Function.prototype.bind) {
    Function.prototype.bind = function (oThis) {
        if (typeof this !== "function") {
            // closest thing possible to the ECMAScript 5 internal IsCallable function;
            throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
        };
        var aArgs = Array.prototype.slice.call(arguments, 1),
            fToBind = this,
            fNOP = function () {}, fBound = function () {
                return fToBind.apply(this instanceof fNOP && oThis ? this : oThis, aArgs.concat(Array.prototype.slice.call(arguments)));
            };
        fNOP.prototype = this.prototype;
        fBound.prototype = new fNOP();
        return fBound;
    };
};

var juissi=juissi||{};window.jQueryEnabled=function(){return"undefined"!==typeof jQuery};juissi.onResize=function(e){window.jQueryEnabled()?$(window).resize(e):window.onresize=e};juissi.onScroll=function(e){window.jQueryEnabled()?$(document).bind("scroll",e):document.addEventListener("scroll",e)};
window.onOrientation=function(e){window.jQueryEnabled()?$(window).bind("orientationchange",e):(void 0===this.triggerStack&&(this.orientationTriggerStack=[],window.onorientationchange=function(c){for(var a in this.orientationTriggerStack)this.orientationTriggerStack[a](c)}),this.orientationTriggerStack.push(e))};
(function(){var e=!1,c=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.JClass=function(){};JClass.extend=function(a){function b(){!e&&this._construct&&this._construct.apply(this,arguments)}var d=this.prototype;e=!0;var h=new this;e=!1;for(var k in a)h[k]="function"==typeof a[k]&&"function"==typeof d[k]&&c.test(a[k])?function(a,b){return function(){var c=this._super;this._super=d[a];var e=b.apply(this,arguments);this._super=c;return e}}(k,a[k]):a[k];b.prototype=h;b.prototype.constructor=b;b.extend=
arguments.callee;return b}})();juissi=juissi||{};juissi.DeviceSettings=function(){this.axisDetectionThreshold=6;this.scrollingKinetics={vertical:500,horizontal:500}};juissi=juissi||{};
(function(){window.JuissEngine={};var e={applewebkit:{css:"-webkit-",dom:"WebKit",aliases:{transitionend:"webkitTransitionEnd",transform:"webkitTransform",transition:"webkitTransition"}},firefox:{css:"",dom:"Moz",aliases:{transitionend:"transitionend",transform:"MozTransform",transition:"MozTransition"}},presto:{css:"-o-",dom:"O",aliases:{transitionend:"oTransitionEnd",transform:"OTransform",transition:"OTransition"},custom:{transform:"OTransform",transition:"OTransition"}},msie:{transform:"-ms-transform",
transition:"-ms-transition",css:"-ms-",dom:"ms",aliases:{transitionend:"MSTransitionEnd",transform:"msTransform",transition:"msTransition"}}},c=navigator.userAgent.toLowerCase(),a=null,b;for(b in e)c.match(b)&&(a=e[b]);var d=-1<c.indexOf("opera"),h=!d&&-1<c.indexOf("msie");JuissEngine.getViewport=function(){return{height:!document.compatMode&&!h||d?(document.parentWindow||document.defaultView).innerHeight:"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight,
width:!document.compatMode&&!h||d?(document.parentWindow||document.defaultView).innerWidth:"CSS1Compat"==document.compatMode?document.documentElement.clientWidth:document.body.clientWidth}};juissi.Helper={};juissi.Helper.getFullResolution=JuissEngine.getViewport;var k="undefined"!==typeof window[a.dom+"CSSMatrix"],f=function(){var a=1,b={};return{addListener:function(d,c,e,h){d.addEventListener(c,e,h);b[a]={element:d,event:c,handler:e,capture:h};return a++},removeListener:function(a){a in b&&(a=b[a],
a.element.removeEventListener(a.event,a.handler,a.capture))}}}();window.JuissEngine.Device={isTouch:function(){void 0===this.isTouchDevice&&(this.isTouchDevice="ontouchstart"in window||0<=c.indexOf("touch"));return this.isTouchDevice},isTabletPc:function(){return 0<=c.indexOf("tablet pc")},isDesktop:function(){void 0===this.isDesktopDevice&&(this.isDesktopDevice=void 0===window.orientation);return this.isDesktopDevice},supportsDivScrolling:function(){void 0===this.supportsNativeScroll&&(this.supportsNativeScroll=
!0,this.isAndroid()?400>this.getAndroidVersion()&&(this.supportsNativeScroll=!1):this.isWindows()?this.supportsNativeScroll=!0:this.isApple()&&JuissEngine.Device.isMobileApple()&&(500>this.getAppleVersion()?this.supportsNativeScroll=!1:this.supportsNativeScroll=!0));return this.supportsNativeScroll},windowsPointersAreEnabled:function(){return window.navigator.msPointerEnabled},isAndroid:function(){return 0<c.indexOf("android")},isMobileApple:function(){return/iP(hone|od|ad)/.test(navigator.platform)},
isWindows:function(){return 0<c.indexOf("msie")},isOpera:function(){return 0<=c.indexOf("opera")},getAndroidVersion:function(){var a=c.match(/android (\d\.\d|\d\.\d\.\d);/);return 1<a.length?(a=a[1].split("."),2===a.length&&a.push("0"),parseInt(a.join(""))):0},getAppleVersion:function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),a=[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)];return parseInt(a[0]+""+a[1]+""+a[2])}return null},
isApple:function(){return 0<window.navigator.userAgent.toLowerCase().indexOf("mac os x")},eventNames:{touchStart:function(){return JuissEngine.Device.isTouch()?JuissEngine.Device.windowsPointersAreEnabled()?"MSPointerDown":"touchstart":"mousedown"},touchMove:function(){return JuissEngine.Device.isTouch()?JuissEngine.Device.windowsPointersAreEnabled()?"MSPointerMove":"touchmove":"mousemove"},touchEnd:function(){return JuissEngine.Device.isTouch()?JuissEngine.Device.windowsPointersAreEnabled()?"MSPointerUp":
"touchend":"mouseup"}},supports3d:function(){if(void 0===this._supports3d){this._supports3d=!0;if(d){this._supports3d=!1;return}try{this._supports3d="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,JuissEngine.Device.isAndroid()&&400>JuissEngine.Device.getAndroidVersion()&&(this._supports3d=!1),0<=c.indexOf("chrome")&&0<=c.indexOf("linux")&&(this._supports3d=!1)}catch(a){this._supports3d=!1}}return this._supports3d},extend:function(a){this.isMobileApple()&&a.mobileOS?a.mobileOS(this.getAppleVersion()):
this.isAndroid()&&a.android?a.android(this.getAndroidVersion()):this.isWindows()&&a.windows&&a.windows();for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}};var g=window.JuissEngine.Device,l=function(b){switch(b){case "transitionend":b=a.aliases.transitionend}return b},e={getPosition:function(){if(k){var b=window.getComputedStyle(this)[a.aliases.transform];if(b=new window[a.dom+"CSSMatrix"](b))return{x:b.e,y:b.f}}else{var b=window.getComputedStyle(this)[a.aliases.transform],d=b.match(/-?[0-9.]+/ig);
return d?0<=b.indexOf("matrix3d")?{x:1*d[13],y:1*d[14]}:{x:1*d[4],y:1*d[5]}:{x:0,y:0}}},move:function(b,d){var c;c=g.supports3d()?"translate3d("+b+"px,"+d+"px, 0px)":"translate("+b+"px,"+d+"px)";this.style[a.custom?a.custom.transform:a.css+"transform"]=c},animation:function(b,d){var c=d?d:"all";this.style[a.custom?a.custom.transition:a.css+"transition"]=b?c+" "+b:c+" 0s linear"},transform:function(a,b){this.move(a,b)},transition:function(a,b){this.animation(a,b)},specificStyle:function(b,d){this.style[a.css+
b]=d},eachNode:function(a){for(var b=this.childNodes.length,d=0,c=0;c<=b;c++){var e=this.childNodes[c];e&&1===e.nodeType&&(a(e,d),d++)}},opacity:function(b){this.style[a.css+"opacity"]=b},getNode:function(a){var b=void 0;this.eachNode(function(d,c){c==a&&(b=d)});return b},addCss:function(a){for(var b in a)this.style[b]=a[b]},on:function(a,b){this.bind(a,function(d){b.bind(this)(d);this.unbind(a)})},bind:function(a,b,d){a=a.split(/\s+/g);void 0===this.__boundEvents&&(this.__boundEvents={});for(var c in a){var e=
l(a[c]),h=f.addListener(this,e,b.bind(this),d);this.__boundEvents[e]||(this.__boundEvents[e]=[]);this.__boundEvents[e].push(h)}},dispatchTouchEnd:function(a,b){var d=document.createEvent("MouseEvent");d.initUIEvent("touchend",!0,!0,window,1);d.touches=[{pageX:a,pageY:b}];this.dispatchEvent(d)},unbind:function(a){a=l(a);if(this.__boundEvents&&this.__boundEvents[a]){for(var b in this.__boundEvents[a])f.removeListener(this.__boundEvents[a][b]);delete this.__boundEvents[a]}},click:function(a,b){this.bind("click",
a,b)},append:function(a){this.appendChild(a)},appendTo:function(a){a.appendChild(this)},remove:function(){void 0!=this.parentNode&&this.parentNode.removeChild(this)},exists:function(){for(var a=this;a=a.parentNode;)if(a===document)return!0;return!1},getWidth:function(){return this.getBoundingClientRect().width},getHeight:function(){return this.getBoundingClientRect().height}},m;for(m in e)Element.prototype[m]=e[m];Document.prototype.find=e.find})();juissi=juissi||{};
(function(){juissi.SpeedCalculation=JClass.extend({_construct:function(e,c){this.maxSpeed=c&&c.maxSpeed||3E3;this.dictionary=[]},add:function(e){this.dictionary.push({x:e.x,y:e.y,time:(new Date).getTime()})},reset:function(){this.dictionary=[]},calculateSpeed:function(){var e={x:0,y:0};if(2>this.dictionary.length)return e;var c=this.dictionary.slice(0),a=c.pop(),b=c.pop(),c=a.x-b.x,d=a.y-b.y,a=a.time-b.time;e.x=c/a>this.maxSpeed?this.maxSpeed:c/a;e.y=d/a>this.maxSpeed?this.maxSpeed:d/a;e.x=0.1<Math.abs(e.x)?
e.x:0;e.y=0.1<Math.abs(e.y)?e.y:0;this.reset();return e}})})();juissi=juissi||{};juissi.xLock=!1;juissi.yLock=!1;juissi.Axis={lockX:function(){juissi.xLock=!0},unlockX:function(){juissi.xLock=!1},lockY:function(){juissi.yLock=!0},unlockY:function(){juissi.yLock=!1},isXLocked:function(){return juissi.xLock},isYLocked:function(){return juissi.yLock}};juissi.GestureCommon=function(){this.reset=!1;this.resetCoords=function(){this.reset=!0};this.shouldResetCoords=function(){return this.reset}};
juissi.GestureCommonInstance=null;juissi.MouseDown=!1;
juissi.Gesture=function(e,c,a){this.startCoords={touchStart:{coords:null,element:null},touchMove:{coords:null,element:null}};this.common=null;this.microsoftYUnlock=a&&a.unlockYMicrosoft;this.disableMouse=a&&a.disableMouseGestures||!1;this.settings=new juissi.DeviceSettings;this.axisThreshold=8;this.element=e;this.handlers=c;this.yMove=this.xMove=null;this.speed=new juissi.SpeedCalculation;this._getCoords=function(a){coords="touchend"===a.type?a.changedTouches?a.changedTouches[0]:a.touches[0]:a.touches?
a.touches[0]:a;return{x:coords.pageX,y:coords.pageY}};this.resetEvent=function(){this.shift.x=0;this.shift.y=0;this.startCoords.touchMove.coords=coords;this.startCoords.touchMove.element=this.element.getPosition()};this._move=function(a){var d=this._getCoords(a);if(!this.__shouldPreventAction(a)){d=this._getCoords(a);null===this.startCoords.touchMove.coords&&(this.startCoords.touchMove.coords=d,this.startCoords.touchMove.element=this.element.getPosition());this.common.shouldResetCoords()&&(this.startCoords.touchStart.element=
this.element.getPosition(),this.startCoords.touchStart.coords=d,this.startCoords.touchMove.coords=d,this.startCoords.touchMove.element=this.element.getPosition(),this.common.reset=!1);this.startCoords.touchMove.delta={x:this.startCoords.touchMove.coords.x-d.x,y:this.startCoords.touchMove.coords.y-d.y};try{this.shift={x:this.startCoords.touchStart.coords.x-d.x,y:this.startCoords.touchStart.coords.y-d.y}}catch(c){return}this.speed.add(d);this.detectAxis();this.handlers.move&&this.axisDetected()&&this.handlers.move({originalEvent:a,
startCoords:this.startCoords,delta:this.shift,common:this.common,coords:d,event:a,xMove:this.xMove,yMove:this.yMove,directionX:0>this.shift.x?"right":"left",directionY:0>this.shift.y?"bottom":"top",reset:this.resetEvent});this.isSwiping=!0}};this.detectAxis=function(){null===this.yMove&&Math.abs(this.shift.y)>this.settings.axisDetectionThreshold&&(this.yMove=!0,this.xMove=!1);null===this.xMove&&Math.abs(this.shift.x)>this.settings.axisDetectionThreshold&&(this.yMove=!1,this.xMove=!0)};this.axisDetected=
function(){return!0};this._start=function(a){null==this.xMove;null==this.yMove;juissi.MouseDown=!0;this.isSwiping=!1;if(!this.__shouldPreventAction(a)){var d=this._getCoords(a);this.isSwiping=!1;this.startCoords.touchStart.coords=d;this.startCoords.touchStart.element=this.element.getPosition();this.handlers.start&&this.handlers.start({originalEvent:a,common:this.common})}};this._stop=function(a){var d,c;juissi.MouseDown=!1;var e=this._getCoords(a);try{d=this.startCoords.touchStart.coords.x-e.x,c=
this.startCoords.touchStart.coords.y-e.y}catch(f){return}var g=this.speed.calculateSpeed();this.handlers.stop&&this.handlers.stop({originalEvent:a,directionX:0>d?"right":"left",directionY:0>c?"bottom":"top",startCoords:this.startCoords,delta:this.shift,coords:e,speed:g,xMove:this.xMove,yMove:this.yMove,common:this.common});this.yMove=this.xMove=null;this.startCoords.touchMove.coords=null;Math.abs(d)<=this.axisThreshold&&(this.isSwiping=!1)};this.__shouldPreventAction=function(a){if(this.disableMouse&&
a.pointerType&&a.pointerType!=a.MSPOINTER_TYPE_TOUCH||!JuissEngine.Device.isTouch()&&!juissi.MouseDown)return!0};this.__init=function(a){null===juissi.GestureCommonInstance&&(juissi.GestureCommonInstance=new juissi.GestureCommon);this.common=juissi.GestureCommonInstance;this.element=a;JuissEngine.Device.windowsPointersAreEnabled()&&(a.style["-ms-touch-action"]=this.microsoftYUnlock?"pan-y":"none",a.addEventListener("click",function(a){this.isSwiping&&(a.stopPropagation(),a.preventDefault())}.bind(this),
!0));var d=JuissEngine.Device.eventNames,c=!0;this.disableMouse&&!JuissEngine.Device.isTouch()&&(c=!1);c&&(a.addEventListener(d.touchStart(),this._start.bind(this)),a.addEventListener(d.touchMove(),this._move.bind(this)),a.addEventListener(d.touchEnd(),this._stop.bind(this)))};this.__init(e)};juissi=juissi||{};
juissi.NativeScroll=function(e,c){this.element=e;this.parent=c&&c.parent||null;this._getCoords=function(a){coords="touchend"===a.type?a.changedTouches?a.changedTouches[0]:a.touches[0]:a.touches?a.touches[0]:a;return{x:coords.pageX,y:coords.pageY}};this.animationInProgress=function(){return this.__explore?this.__explore.animationInProgress:!1};this._move=function(a){if(!this.animationInProgress()){var b=this._getCoords(a),d=b.y-this.yStart,c=b.x-this.xStart;Math.abs(b.x-this.xStart);b=!1;Math.abs(c)>
Math.abs(d)?(juissi.GlobalXlock=!0,a.preventDefault()):(0<d?b=0<d&&0==this.startScrollingCoordinate:(d=this.element.scrollHeight,c=this.startScrollingCoordinate,b=this.element.getHeight(),b=c+b>=d),this.resetTransition=!1,b&&(this.resetTransition=!0,a.preventDefault()))}};this._start=function(a){a=this._getCoords(a);this.xStart=a.x;this.yStart=a.y;this.startScrollingCoordinate=this.element.scrollTop;juissi.GlobalXlock=!1};this._stop=function(){juissi.GlobalXlock=!0};this.__onViewport=function(){};
this.__offViewport=function(){};this.onScroll=function(a){var b=this.element;b.onscroll=a?function(d){var c=b.scrollTop,e=this.element.getHeight(),f=Math.round(100*(c/(this.element.scrollHeight-e)));a({event:d,scrolled:c,viewport:e,percent:100<f?100:f,elementHeight:this.element.scrollHeight})}.bind(this):null};this.__init=function(){var a=this.element.getNode(0);this.element.style["overflow-y"]="scroll";this.element.style["-webkit-overflow-scrolling"]="touch";JuissEngine.Device.isWindows()&&(this.element.style["-ms-touch-action"]=
"pan-y");a.overflow="auto";this._move.bind(this);this._stop.bind(this);this._start.bind(this);a=JuissEngine.Device.eventNames;JuissEngine.Device.isTouch()&&(this.element.addEventListener(a.touchStart(),this._start.bind(this)),this.element.addEventListener(a.touchMove(),this._move.bind(this)),this.element.addEventListener(a.touchEnd(),this._stop.bind(this)));this.parent&&this.parent.__exploreModule&&(this.__explore=this.parent.__exploreModule)};this.__init()};juissi=juissi||{};
(function(){var e=function(){this.kineticSpeed=600};juissi.Scrollable=JClass.extend({_construct:function(c,a){this.element=c;this._initOptions(a);this._prepare();this._initiate()},scrollTo:function(c,a,b){this.container.move(c,a);this.container.animation((b?"0.0s":"0.3s")+" ease-out");this.__calculatePercentage({y:a,touchEnded:!0,delay:b?0:0.3})},_prevent:function(c){if(this.options.vertical&&c.xMove||this.options.horizontal&&c.yMove)return!0},__onViewport:function(){this.nativeScroll?this.nativeScroll.__onViewport():
this.options.scrollbars&&this.__initScrollBar({color:"#444444"})},__offViewport:function(){this.nativeScroll?this.nativeScroll.__offViewport():this.options.scrollbars&&this.__destroyScrollBar()},_onStart:function(c){this._prevent(c)||(this._bound2Top=!1,this._overideAnimation=null,this.__calculatePercentage(),c=this.container.getPosition(),this.container.move(c.x,c.y),this.container.animation("0.3s ease-out"))},_onMove:function(c){if(this._prevent(c))JuissEngine.Device.isAndroid()&&this.container.dispatchTouchEnd(0,
0);else{var a=this.options.vertical,b=this.container.getPosition(),d=c.startCoords.touchMove.element,b=a?b.y:b.x,d=(a?d.y:d.x)-(a?c.delta.y:c.delta.x),e=a?this.container.getHeight():this.container.getWidth(),k=a?this.element.getHeight():this.element.getWidth();e<k?(d/=30,this._bound2Top=!0):(0<b&&(d/=10,this._overideAnimation="0.3"),(b=a?this._bottom(d):this._right(d))&&(d=b));this.container.animation("0.0s linear");this.container.move(a?0:d,a?d:0);this.__calculatePercentage();if(a?c.yMove:c.xMove)c.originalEvent.preventDefault(),
c.originalEvent.stopPropagation()}},_onStop:function(c){if(!this._prevent(c)){var a=this.options.vertical,b=this.container.getPosition(),b=a?b.y:b.x,d=(a?c.speed.y:c.speed.x)*this.options.kineticSpeed;c=Math.round(b+d);b=this._overideAnimation?this._overideAnimation:Math.abs((b-c)/d)||0.3;0<c&&(c=0);c=this.__considerGrid({x:c}).x;(d=a?this._bottom(c):this._right(c))&&(c=d);this._bound2Top&&(c=0);this.container.animation(b+"s ease-out");this.container.move(a?0:c,a?c:0);this.__calculatePercentage({y:a?
c:0,x:a?0:c,touchEnded:!0,delay:b})}},_right:function(c){var a=this.element.getWidth(),b=this.container.getWidth();return b-a<Math.abs(c)?-1*(b-a):!1},_bottom:function(c){var a=this.element.getHeight(),b=this.container.getHeight();return b-a<Math.abs(c)?-1*(b-a):!1},_prepare:function(){this.element.addCss({overflow:"hidden",position:"relative","z-index":"0"});this.container=this.element.getNode(0);this.container.addCss({overflow:"auto"})},_initOptions:function(c){this.options=new e;for(var a in c)this.options[a]=
c[a];this.options.horizontal||this.options.vertical||(this.options.vertical=!0);this.__exploreModule=this.options.__exploreModule;this.triggers={}},__calculatePercentage:function(c){var a=c?c:this.container.getPosition(),b=c&&c.delay||0;c=c&&c.touchEnded||!1;this.percentShift=this.options.vertical?Math.round(100*(Math.abs(a.y)/(this.container.getHeight()-this.element.getHeight()))):Math.round(100*(Math.abs(a.x)/(this.container.getWidth()-this.element.getWidth())));this.scrollPosition={y:{percent:this.options.vertical?
this.percentShift:0,viewport:this.element.getHeight(),height:this.container.getHeight(),scrolled:a.y},x:{percent:this.options.horizontal?this.percentShift:0,viewport:this.element.getWidth(),height:this.container.getHeight(),scrolled:a.x}};if(this.triggers.onScroll)this.triggers.onScroll(this.scrollPosition);this.options.scrollbars&&(this.options.vertical&&void 0===this.nativeScroll)&&this.__onScrollBar(this.percentShift,b,c)},_initiate:function(){this.options.nativeScrollIfPossible&&JuissEngine.Device.supportsDivScrolling()?
this.nativeScroll=new window.juissi.NativeScroll(this.element,{parent:this,triggers:this.triggers}):this._bind()},_bind:function(){this.gesture=new juissi.Gesture(this.container,{start:this._onStart.bind(this),move:this._onMove.bind(this),stop:this._onStop.bind(this)})}})})();
(function(){juissi.Scrollable=juissi.Scrollable.extend({bindGrid:function(e){var c,a,b=e.x?e.x:e.y;e=e.x?"width":"height";if(void 0!==b){var d=[],h=0;for(coord in b){c=b[coord];var k=e,f=null;a="object"===typeof c&&void 0!==c.nodeName;var g="number"===typeof c,l;a:{if("string"===typeof c&&(l=parseInt(c),NaN!==l))break a;l=!1}a?f=k&&"width"===k?c.getWidth():c.getHeight():g?f=c:l&&(f=l);c=null===f?0:f;d.push(a?h+c:c);h+=c}this.grid=d}},__considerGrid:function(e){if(!this.grid||this.vertical)return e;
var c=null,a=0,b;for(b in this.grid){var d=this.grid[b],h=Math.abs(e.x);h>=a&&h<=d&&(c=a+Math.round((d-a)/2),c=h<c?a:d);a=d}null!==c&&(e.x=-1*c);return e}})})();juissi=juissi||{};juissi.PagingActive=!1;juissi.ScrollingActive=!1;
juissi.ExploreOptions=function(e){this.__init=function(c){if(c)for(var a in c)this[a]=c[a]};this.__processOptions=function(){this.desktopVersion&&JuissEngine.Device.isDesktop()&&(this.horizontalMode=!0,this.fullScreen=this.scrollable=!1,this.desktopMode=!0)};this.__init(e);this.__processOptions()};
juissi.Explore=function(e,c){this.element=e;this.deviceSettings=new juissi.DeviceSettings;this.container=document.createElement("div");this.onStopDuration=0.3;this.options=new juissi.ExploreOptions(c);this.page=this.options.initialPage||"0.0";this.animationInProgress=!1;this.triggers={onPageChange:null,onFinger:null,onRender:this.options.onRender};this.getElements=function(){return this.elements};this.getElement=function(a,b){a+="";var d=a.split("."),d=1<d.length?d[0]+"."+d[1]:a+"."+b;return this.elementExists(d)?
this.elements[d]:null};this.getContainerWidth=function(){return this.element.getWidth()};this.getContainerHeight=function(){return this.element.getHeight()};this.getCurrentCoords=function(a){a=(a?a:this.page).split(".");return{x:1*a[0],y:1*a[1]}};this.getCurrentPage=function(){var a=this.getCurrentCoords();return this.getElement(a.x,a.y)};this.__setPage=function(a,b){var d=this.getCurrentCoords();this.page=a+"."+b;var c={current:this.getElement(this.page),prev:this.getElement(d.x+"."+d.y)};this.options.autoRevertScroll&&
(this.options.horizontalMode?window.scroll(0,0):c.prev&&c.prev.scrollable&&window.setTimeout(function(){c.prev.scrollable.nativeScroll?c.prev.scrollable.element.scrollTop=0:c.prev.scrollable.scrollTo(0,0,!0)},1E3*this.onStopDuration));var e={current:{x:a,y:b},prev:d};c.prev&&c.prev.scrollable&&c.prev.scrollable.__offViewport();this.triggers.onPageChange&&window.setTimeout(function(){this.triggers.onPageChange(e,c)}.bind(this),1E3*this.onStopDuration)};this.__pageAssumedAsCurrent=function(){var a=
this.getCurrentPage();a.scrollable&&a.scrollable.__onViewport()};this.__addHorizontal=function(a){var b=this.getCurrentCoords();this.options.loopHorizontal&&1<this.getSize()?-1===a&&0===b.x?this.__setPage(this._lec.x,b.y):1===a&&b.x===this._lec.x?this.__setPage(this._fec.x,b.y):this.__setPage(b.x+a,b.y):this.__setPage(b.x+a,b.y)};this.__addVertical=function(a){var b=this.getCurrentCoords();this.__setPage(b.x,b.y+a)};this.__horizontalExists=function(a){var b=this.getCurrentCoords();a=b.x+a+"."+b.y;
return this.options.loopHorizontal&&1<this.getSize()?!0:this.elementExists(a)};this.__verticalExists=function(a){var b=this.getCurrentCoords();return this.elementExists(b.x+"."+(b.y+a))};this._eventsAreLocked=function(a){if(this._lockEventsCallback)return this._lockEventsCallback(a),!0};this._start=function(a){a.type="start";this.__size=null;this._eventsAreLocked(a)||(this.hasActuallyMoved=!1)};this._preventDefaults=function(a){a.originalEvent.preventDefault();a.originalEvent.stopPropagation()};this._move=
function(a){a.type="move";if(!this._eventsAreLocked(a))if((this.options.horizontalMode||this.options.releaseVertical)&&a.yMove)JuissEngine.Device.isAndroid()&&this._dispatchTouchEnd();else if(this.animationInProgress)a.originalEvent.preventDefault(),a.originalEvent.stopPropagation();else if(!this.nativeScroll||!1!==juissi.GlobalXlock){this._preventDefaults(a);var b=!1;juissi.PagingActive=!0;a.xMove&&(b=!1===this.__horizontalExists("left"===a.directionX?1:-1));a.yMove&&(b=!1===this.__verticalExists("bottom"===
a.directionY?1:-1));var d=a.startCoords.touchStart.element,c=d.x-a.delta.x;b&&a.xMove&&(c=d.x-a.delta.x/15);var e=a.yMove?d.y-a.delta.y:d.y;b&&a.yMove&&(e=d.y-a.delta.y/15);this.nativeScroll&&(a.xMove=!0);this.__moveElements(a.xMove?c:0,a.yMove?e:0);this.hasActuallyMoved=!0}};this.__moveElements=function(a,b,d){var c=0;if(void 0!==this.triggers.onMove)this.triggers.onMove({x:a,y:b,speed:d,released:d?!0:!1});this._needFixLoopHorizontal()&&!d&&this._checkFor2Elements(a,b);this.element.eachNode(function(e){void 0!==
d&&e.animation(d+"s ease-out");e.move(a,b);c++}.bind(this))};this._needFixLoopHorizontal=function(){return this.options.loopHorizontal&&2==this.getSize()};this._checkFor2Elements=function(a,b){var d=this.getCurrentCoords().x;this._leftShiftedElement=this.getElement(0==d?1:0,0);this._leftShiftedElement.style.left=0<a?"-100%":"100%"};this._stop=function(a){a.type="stop";this._2slidesDetection=!1;if(!this._eventsAreLocked(a)&&!1!==this.hasActuallyMoved&&(this.nativeScroll||!1!==juissi.GlobalXlock||!(this.animationInProgress||
(this.options.horizontalMode||this.options.releaseVertical)&&a.yMove||juissi.Axis.isXLocked()&&a.xMove||juissi.Axis.isYLocked()&&a.yMove))){var b;this.animationInProgress=b=!0;this.onStopDuration=0.3;var d="left"===a.directionX,c="bottom"===a.directionY;this.nativeScroll&&(a.xMove=!0);var e;a.xMove?this.__horizontalExists(d?1:-1)?(e=100*(Math.abs(a.delta.x)/this.getContainerWidth()),5>e?(b=!1,this.__moveElements(0,0,this.onStopDuration)):(this.__addHorizontal(d?1:-1),d=this.getContainerWidth()*(d?
-1:1),this.__moveElements(d,0,this.onStopDuration))):(b=!1,this.__moveElements(0,0,this.onStopDuration)):this.__verticalExists(c?1:-1)?(e=100*(Math.abs(a.delta.y)/this.getContainerHeight()),5>e?(b=!1,this.__moveElements(0,0,this.onStopDuration)):(this.__addVertical(c?1:-1),d=this.getContainerHeight()*(c?1:-1),this.__moveElements(0,d,this.onStopDuration))):(b=!1,this.__moveElements(0,0,this.onStopDuration));juissi.PagingActive=!1;JuissEngine.Device.isAndroid()&&(this.onStopDuration+=0.2);this.stopTimeout=
window.setTimeout(function(){b&&(this._needFixLoopHorizontal()&&this._leftShiftedElement&&(this._leftShiftedElement.style.left="0"),this.alignElements(a));this.animationInProgress=!1}.bind(this),1E3*this.onStopDuration)}};this.element=e;this.elementExists=function(a,b){return void 0!==b?void 0!==this.elements[a+"."+b]:void 0!==this.elements[a]};this.getSize=function(){var a=0,b;for(b in this.elements)a++;return a};this._orientationChanged=function(){this.options.fullScreen&&this.__onFullScreen()};
this.updateElement=function(a,b){var d=this.getElement(a.x+"",a.y+"");d&&(b.removeAttribute("data-coords"),d.remove(),delete this.elements[a.x+"."+a.y]);this.setElement(a,b);this.options.fullScreen&&this.__onFullScreen()};this.removeElement=function(a){if(this.elementExists(a.x,a.y)){var b=this.getCurrentCoords(),d=this.elements[a.x+"."+a.y];if(b.x===a.x&&b.y===a.y){delete this.elements[a.x+"."+a.y];for(var c in this.elements){a=this.getCurrentCoords(c);this.__setPage(a.x,a.y);break}}else delete this.elements[a.x+
"."+a.y];d.remove();this.alignElements()}};this.setElement=function(a,b,d){d=d&&d.initially||!1;var c="";d?(c=b.getAttribute("data-coords"),null===c&&(c=a.x+"."+a.y)):c=a.x+"."+a.y;b.style.top=0;b.style.width="100%";b.style.height=this.options.horizontalMode?"auto":this.getContainerHeight()+"px";if(this.options.styles)for(var e in this.options.styles)b.style[e]=this.options.styles[e];b.style.overflow="hidden";e=null;this.options.scrollable&&(e=b);if(this.options.scrollableClassName){var f=b.getElementsByClassName(this.options.scrollableClassName);
f&&(e=f[0])}if(e){f=this.options.scrollableOptions;void 0===f.horizontal&&(f.vertical=!0);f.exploreInteraction=!0;f.__exploreModule=this;var g=new juissi.Scrollable(e,f);if(this.performScrollSpyCallback)if(g.nativeScroll)g.nativeScroll.onScroll(function(a){if(null===this.performScrollSpyCallback)g.nativeScroll.onScroll(null);else this.performScrollSpyCallback("div",a.event,a.scrolled,a.viewport,a.percent,a.elementHeight)}.bind(this));else g.triggers.onScroll=function(a){this.performScrollSpyCallback("juissi",
null,a.y.scrolled,a.y.viewport,a.y.percent,a.y.height)}.bind(this);g.nativeScroll&&(this.nativeScroll=!0);b.scrollable=g}this.elements[c]=b;!1===d&&this.options.loopHorizontal&&this.__detectHorizontalCoordPositions(a)};this.store=function(){this.elements={};this.element.eachNode(function(a,b){var d={x:b,y:0};this.setElement(d,a,{initially:!0});void 0===this._fec&&(this._fec=d);this._lec=d}.bind(this))};this.__detectHorizontalCoordPositions=function(){var a=[],b=this.getCurrentCoords(),d;for(d in this.elements){var c=
this.getCurrentCoords(d);a.push(c.x)}a.sort(function(a,b){return a-b});d=a[0];this._lec={x:a[a.length-1],y:b.y};this._fec={x:d,y:b.y}};this.detachUseless=function(a){var b={},d;for(d in a){var c=a[d];b[c.coords]=c}var e=[];this.element.eachNode(function(a){var d=a.getAttribute("data-coords");b[d]||e.push(a)});for(d in e)e[d].remove()};this._getExpectedCoords=function(a){var b=a.x;a=a.y;a=[{type:"horizontal-left",coords:b-1+"."+a},{type:"horizontal-current",coords:this.page},{type:"vertical-top",coords:b+
"."+(a+1)},{type:"vertical-bottom",coords:b+"."+(a-1)},{type:"horizontal-right",coords:b+1+"."+a}];if(1<this.getSize()&&this.options.loopHorizontal&&this._fec&&this._lec){for(first in this.elements)break;0===b&&(a[0].coords=this._lec.x+"."+this._lec.y);b===this._lec.x&&(a[4].coords=this._fec.x+"."+this._fec.y)}return a};this.counter=0;this.alignElements=function(a){var b=this.getCurrentCoords(),b=this._getExpectedCoords(b),d=!0;this.getSize();a&&(d="left"===a.directionX);this.detachUseless(b);for(var c in b){a=
b[c];var e=a.coords;if(this.elements[e]){var f=this.elements[e],g=0,l=0;"horizontal-left"===a.type&&(g=-100);"horizontal-right"===a.type&&(g=100);"vertical-top"===a.type&&(l=-100);"vertical-bottom"===a.type&&(l=100);var m="absolute";this.options.horizontalMode&&"horizontal-current"===a.type&&(m="static");f.style.display="none";f.style.position=m;f.style.width="100%";f.style.left=g+"%";f.style.top=l+"%";f.transition();f.transform(0,0);f.setAttribute("data-coords",e);d?f.exists()||this.element.appendChild(f):
f.exists()||this.element.appendChild(f,this.element.firstChild);f.style.display="block";"horizontal-current"===a.type&&this.__pageAssumedAsCurrent()}}};this.__onFullScreen=function(){var a=juissi.Helper.getFullResolution(),b=document.body;this.element.style.top="0";this.element.style.width=a.width+"px";this.options.horizontalMode||(this.element.style.height=a.height+"px");b.style.overflow="hidden";b.style.margin="0";for(var d in this.elements)b=this.elements[d],this.options.horizontalMode||(b.style.height=
a.height+"px")};this.__buildElements=function(){this.store();for(this.hasChildren=!1;this.element.hasChildNodes();)this.element.removeChild(this.element.firstChild),this.hasChildren=!0;this.alignElements();this.options.fullScreen&&this.__onFullScreen()};this.getPointer=function(){return this.element.juissiExplore};this.__initScrollSpy=function(a,b){var d=null===a?!0:!1,c=b&&b.applyOnlyNative,e=function(b,d,c,e,h,k){a&&a({interfaceName:b,scrolled:c,viewport:e,originalEvent:d,percent:h,elementHeight:k})};
this.options.desktopMode?window.onscroll=d?null:function(a){var b=window.pageYOffset||document.documentElement.scrollTop,d=juissi.Helper.getFullResolution().height,c=Math.round(100*(b/(this.element.getHeight()-d)));e("window",a,b,d,c,this.element.getHeight())}.bind(this):c&&!1===JuissEngine.Device.supportsDivScrolling()||(this.performScrollSpyCallback=e,d&&(this.performScrollSpyCallback=null))};this.lockEvents=function(a){var b=this.getCurrentCoords(),b=this._getExpectedCoords(b),d;for(d in b){var c=
b[d],e=c.coords;this.elements[e]&&"horizontal-current"!=c.type&&this.elements[e].remove()}this._lockEventsCallback=a;this.options.disableMouseGestures&&!JuissEngine.Device.isTouch()&&this.element.bind("click",this._lockEventsCallback,!0);this.__initScrollSpy(a,{applyOnlyNative:!0})};this.unlockEvents=function(){this._lockEventsCallback=null;this.alignElements();this.element.unbind("click");this.__initScrollSpy(null,{applyOnlyNative:!0});this.scrollSpyOriginalEvent&&this.__initScrollSpy(this.scrollSpyOriginalEvent)};
this._dispatchTouchEnd=function(){var a=document.createEvent("MouseEvent");a.initUIEvent("touchend",!0,!0,window,1);a.touches=[{pageX:0,pageY:0}];e.dispatchEvent(a)};this.__init=function(a){a.juissiExplore=this;a={};this.element.style.display="none";this.options.scrollSpy&&(this.scrollSpyOriginalEvent=this.options.scrollSpy,this.__initScrollSpy(this.scrollSpyOriginalEvent));this.element.style.overflow="hidden";this.element.style.position="relative";this.__buildElements();if(!JuissEngine.Device.isDesktop())if(JuissEngine.Device.isAndroid())juissi.onResize(this._orientationChanged.bind(this));
else window.onOrientation(this._orientationChanged.bind(this));a.move=this._move.bind(this);a.stop=this._stop.bind(this);a.start=this._start.bind(this);var b={};this.options.horizontalMode&&(b.unlockYMicrosoft=!0);b.disableMouseGestures=this.options.disableMouseGestures;JuissEngine.Device.isTouch()&&!JuissEngine.Device.isTabletPc()&&this.element.specificStyle("user-select","none");this.gesture=new juissi.Gesture(this.element,a,b);this.element.style.display="block";if(this.triggers.onRender)this.triggers.onRender(this.element)};
if(void 0===e)console.log("Juissi:Explore - element can't be found.");else if(void 0===e.juissiExplore)this.__init(e);else if(e.juissiExplore._fec)e.juissiExplore.alignElements();else return e.juissiExplore.__buildElements(),e.juissiExplore};
(function(){juissi.Explore.prototype.__scrollClicked=!1;juissi.Explore.prototype.__getScrollCoordinates=function(a,b){var d=this.getCurrentCoords(),c=a-d.x,d=b-d.y,e,f,g=1;e=0<=d?"-100%":"100%";f=0<=c?"100%":"-100%";1<Math.abs(d)&&(e=0<d?"-200%":"200%",0===c&&(f="0"),g=2);1<Math.abs(c)&&(f=0<c?"200%":"-200%",0===d&&(e="0"),g=2);return{xPosition:f,yPosition:e,deltaX:c,deltaY:d,isLeft:0<=c,skipCells:g,isTop:0<=d}};juissi.Explore.prototype.scroll=function(a,b,c){var e=this.options.loopHorizontal?!0:
this.elementExists(a,b),k=c&&c.plus;if(e&&!this.__scrollClicked&&(e=this.getCurrentCoords(),c=c&&void 0!==c.instant||!1,a=parseInt(a),b=parseInt(b),a!=e.x)){this.__scrollClicked=this.animationInProgress=!0;var f=this.__getScrollCoordinates(a,b),g=this.elements[a+"."+b];g&&!g.exists()&&(g.style.left=f.xPosition,g.style.top=f.yPosition,g.style.position="absolute",f.isLeft?this.element.appendChild(g):this.element.appendChild(g,this.element.firstChild),g.move(0,0));var l=0===f.deltaY?0:this.getContainerHeight()*
(f.isTop?1:-1)*f.skipCells,m=0===f.deltaX?0:this.getContainerWidth()*(f.isLeft?-1:1)*f.skipCells;this.options.loopHorizontal&&(g&&g.exists())&&(f=parseInt(g.style.left),-100==f&&(m=1*this.getContainerWidth()),100==f&&(m=-1*this.getContainerWidth()));var n=c?0:1<Math.abs(e.x-a)?0.7:0.5;this._needFixLoopHorizontal()&&!k&&(this._leftShiftedElement=this.getElement(0==e.x?1:0,0),this._leftShiftedElement.style.left="-100%",m=1*this.getContainerWidth());setTimeout(function(){this.__moveElements(m,l,n);this._needFixLoopHorizontal()?
this.__addHorizontal(k?1:-1):this.__setPage(a,b);window.setTimeout(function(){this._needFixLoopHorizontal()&&this._leftShiftedElement&&(this._leftShiftedElement.style.left="0");this.alignElements();this.animationInProgress=this.__scrollClicked=!1}.bind(this),1E3*(n+0.1))}.bind(this),200)}};var e={scrollRight:function(a){var b=this.getCurrentCoords(),c=b.y,b=b.x+1;void 0===a&&(a={});this.options.loopHorizontal&&(b==this.getSize()&&(b=0),a.plus=!0);a.horizontal=!0;this.scroll(b,c,a)},scrollLeft:function(a){var b=
this.getCurrentCoords(),c=b.y,b=b.x-1;void 0===a&&(a={});this.options.loopHorizontal&&0>b&&(b=this.getSize()-1);a.horizontal=!0;this.scroll(b,c,a)},scrollTop:function(a){var b=this.getCurrentCoords();this.scroll(b.x,b.y+1,a)},scrollBottom:function(a){var b=this.getCurrentCoords();this.scroll(b.x,b.y-1,a)},addHorizontal:function(a,b){var c=this.getCurrentCoords();x=void 0!==this._latestAddedHorizontal?this._latestAddedHorizontal:c.x;this._latestAddedHorizontal=x+=b?b:1;this.setElement({x:x,y:c.y},
a);this.alignElements()},addVertical:function(a,b){var c=this.getCurrentCoords(),e=c.x,c=c.y,c=void 0!==this._latestAddedVertical?this._latestAddedVertical:c;this._latestAddedVertical=c+=b?b:1;this.setElement({x:e,y:c},a);this.alignElements()}},c;for(c in e)juissi.Explore.prototype[c]=e[c]})();
(function(){juissi.Scrollable=juissi.Scrollable.extend({__initScrollBar:function(e){var c=document.createElement("div");c.addCss({position:"absolute","border-radius":"2px",width:"5px",overflow:"hidden",right:"2px",top:"0",height:"1px",background:e.color});c.opacity(0);this.element.appendChild(c);this.scrollbarContainer=c;this.__resetInitialScrollbarViewport();window.onOrientation(function(){this.__resetInitialScrollbarViewport()}.bind(this));this.scrollbarContainer.bind("transitionend",function(){this.scrollbarContainer.transition("0.5s ease-out");
this.scrollbarContainer.opacity(0)}.bind(this))},__resetInitialScrollbarViewport:function(){this.containerHeight=this.viewportHeight=void 0},__destroyScrollBar:function(){this.scrollbarContainer&&this.scrollbarContainer.remove();this.scrollbarContainer.unbind("transitionend")},__onScrollBar:function(e,c,a){if(void 0!=this.scrollbarContainer){99<=e&&(e=99);clearTimeout(this.scrollbarOpacityTimeout);void 0===this.viewportHeight&&(this.viewportHeight=this.element.getHeight({ignoreMargings:!0}));void 0===
this.containerHeight&&(this.containerHeight=this.container.getHeight({ignoreMargings:!0}));var b=Math.round(100*(this.viewportHeight/this.containerHeight));20>b&&(b=20);b=Math.round(b/100*this.viewportHeight);this.scrollbarContainer.style.height=b+"px";e=Math.round((this.viewportHeight-b)*(e/100));this.scrollbarContainer.transition("0.0s linear");this.scrollbarContainer.transform(0,e);this.scrollbarContainer.opacity(0.7);a&&this.scrollbarContainer.transition(c+"s ease-out")}}})})();
window.jQueryEnabled()&&($.fn.explore=function(e){this.each(function(){$(this).data("explore",new juissi.Explore(this,e))})},$.fn.scrollable=function(e){this.each(function(){$(this).data("scrollable",new juissi.Scrollable(this,e))})});Element.prototype.enableScrollable=function(e){return new juissi.Scrollable(this,e)};Element.prototype.enableExplore=function(e){return(new juissi.Explore(this,e)).getPointer()};